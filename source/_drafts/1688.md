---
title: 渗透学习笔记 - 一、服务器环境概述
id: 1688
categories:
  - 安全
date: 2014-12-05 10:51:38
tags:
---

## 服务器环境

服务器环境指的是服务器软件、脚本语言、数据库和操作系统的总和。

常见的服务器环境有（系统 + 服务器软件 + 数据库 + 语言）

*   lamp/lnmp = linux + apache/nginx + mysql + php/python
*   wisa = winserver + iis + sqlserver + asp/asp.net
*   j2ee = unix/linux + tomcat + oracle + java web

<!--more-->

以上这些是原配，服务器软件与语言必须一一对应，否则无法解析。除此之外，系统和数据库只要兼容就可以随便互换，比如wamp什么的。

服务器软件会监听指定端口，当你用浏览器访问一个网站时，网站的服务器软件会接到一个**http请求**，它接着解析请求，读取网页文件，然后交给语言的解析器解析，之后拿到结果返回给浏览器。这是动态页面的步骤，静态页面在读取网页文件之后直接返回。

为什么要判断服务器环境，就是因为不同的环境，我们渗透时候使用的工具和方法略有不同。

## 语言

动态页面语言实际上是一种标记语言，它内部的代码逻辑由另一种编程语言写成。动态页面语言也叫做动态页面技术。

比如

*   asp =&gt; vbscript/javascript
*   jsp =&gt; java
*   asp.net =&gt; vb/c#

编程语言这里指的是高级编程语言，分为编译语言（c/c++），托管语言（c# vb.net java）和脚本语言（php vbs js python）三种。我们可以看到，这些语言中有vbs和js之类的脚本语言，也有java和c#这类的托管语言。脚本语言特点是不用编译，直接由解析器解析，编写大型网站时比较省事。

asp的标记格式是`&lt;% %&gt;`，里面有vbs或者js代码。

像jsp和asp.net，很少有完全用页面语言写成的网站，一般都是搭配着纯粹的java或者c#代码。由于他们不是脚本语言，第一次执行前会先编译，之后每次就直接执行了。

php这种语言，原生支持web，并原生支持标记，可以说它的动态页面语言也是php。

另外一些语言，它不通过标记的形式生成页面，而是拼凑字符串。比如python和c/c++。他们没有对应的动态页面语言。

当然这些具体细节不是我们的重点，无论他怎么写成的，都要支持http协议，读取参数进行查询。

## 后缀

由于代码存放在服务器上，返回给我们的是html文本，而不是源代码，我们无法通过返回的文本来判断。

不同语言写成的页面有不同的后缀，这些后缀是判断语言的依据。

*   *.asp =&gt; asp
*   *.aspx =&gt; asp.net
*   *.jsp =&gt; java web
*   *.do =&gt; java + ssh
*   *.php =&gt; php

用后缀判断绝大多数情况都是靠谱的，因为改了后缀服务器软件就不能正常识别了。

## 伪静态

一些网站的后缀是*.html之类的纯文本后缀，或者干脆就没有后缀。千万不能认为它就是纯文本，因为大型网站必须要访问数据库，这个用html是做不到的。

这个就叫做伪静态，比如，本来是`xxx.asp?id=yyy`，可以在服务器软件里面设置，让它的页面为`xxx/yyy.html`，这样做有利于搜索引擎的收录。

我们可以**fiddler2**抓包，通过`Server`返回头来判断服务器软件的类型，继而判断语言的类型。很少有人闲的蛋疼去改Server头，也很少有人具有定制服务器软件的能力，所以这种方法还是靠谱的。

## 注

由于此教程不可能面面俱到，加粗的东西是需要自己去查资料了解的。

然后是此套笔记部分来自[小迪的教程](http://www.xiaosedi.com)，对此本人表示感谢。